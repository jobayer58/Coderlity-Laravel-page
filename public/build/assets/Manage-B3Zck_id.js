import{r as l,X as A,G as B,j as e,S as D,x as f,A as O}from"./app-CWG8IO2g.js";import{C as P,a as R}from"./customStyle-CaZsWJdT.js";import{L as U}from"./index-DlFJ7bMG.js";import{Q as E,F as b,B as H}from"./ReactToastify-DPvZpB58.js";import{C as z}from"./CLBreadCrumb-D2HL7VO5.js";import{s as G}from"./RightSidebar-ySHiCkj3.js";import{C as Q}from"./Container--jlZg8Hy.js";import{R as V}from"./Row-V_FQxnkM.js";import{C as X}from"./Col-DCMVYQ7v.js";import{C as i}from"./Card-tM-bCJo_.js";import{F as o}from"./Form-ScOPmmIk.js";import{T as Y}from"./Table-B_fHKvu_.js";import"./ThemeProvider-DQTmiaPd.js";import"./NavbarContext-D7Y69-4c.js";import"./Button-BYq_pOI0.js";import"./Modal-Cl8y3l_e.js";import"./useWillUnmount-Db1aBOWc.js";import"./Offcanvas-B1fdAb66.js";import"./CardHeaderContext-D7wbeIzV.js";import"./index-BID9k8xX.js";import"./reselect-CiXCCDx7.js";import"./Dropdown-DmSjolbV.js";import"./index-NKt71_pR.js";import"./coderlity-D_SEMzZo.js";import"./avatar-6-Bjnhzl3_.js";import"./FormCheckInput-D0kmCXQY.js";function _({users:t,pages:C=[]}){var m,p,x,j,u;const[n,c]=l.useState(!1),[N,d]=l.useState(0),{props:v}=A(),a=v.flash||{};let k=new URL(window.location.href).searchParams.get("search")||"";const{data:r,get:S,setData:h,processing:w,put:y}=B({search:k}),T=s=>{s.preventDefault(),r.search.length>=2&&S(route("admin.customer.index",{page:1,search:r.search}),{preserveState:!0,preserveScroll:!0})},L=s=>{s==="2"&&d(0),c(!1)},F=()=>{r.search.length!==0&&(h({search:""}),O.visit(`${G}/customer`,{method:"get"}))},I=s=>{y(route("admin.customer.statusUpdate",s),{preserveScroll:!0})},M=s=>{H.success(s,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:b})};return l.useEffect(()=>{if(a!=null&&a.success){const s=setTimeout(()=>{M(a==null?void 0:a.message)},350);return()=>{clearTimeout(s)}}},[a]),e.jsxs(l.Fragment,{children:[e.jsx(D,{title:"Starter | Velzon - React Admin & Dashboard Template"}),e.jsxs("div",{className:"page-content",children:[e.jsxs(Q,{fluid:!0,children:[e.jsx(z,{title:"Customers",pageTitle:"Customer Page",pageUrl:"/auth/console/customer",currentPage:"Manage"}),e.jsx(V,{children:e.jsx(X,{xs:12,children:e.jsxs(i,{children:[e.jsxs(i.Header,{className:"align-items-center d-flex",children:[e.jsx("h4",{className:"mb-0 card-title flex-grow-1",children:"Customer Manage"}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"d-flex justify-content-sm-end",children:e.jsx("form",{onSubmit:T,children:e.jsxs("div",{className:"search-box ms-2 search-box-custom-width ",children:[e.jsx(o.Control,{type:"text",className:"form-control",placeholder:"Search by name, email or country...",value:r.search,onChange:s=>h("search",s.target.value),disabled:w}),e.jsx("i",{className:"ri-search-line search-icon"}),((m=r==null?void 0:r.search)==null?void 0:m.length)!==0&&e.jsx("i",{className:"ri-close-line close-cl-icon text-danger",onClick:F})]})})})})]}),e.jsxs(i.Body,{children:[e.jsx("div",{className:"live-preview",children:e.jsxs("div",{className:"table-responsive",children:[e.jsxs(Y,{className:"mb-0 align-middle table-bordered table-hover table-striped table-nowrap",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"ID"}),e.jsx("th",{scope:"col",children:"Name"}),e.jsx("th",{scope:"col",children:"Email"}),e.jsx("th",{scope:"col",children:"Country"}),e.jsx("th",{scope:"col",children:"Status"}),e.jsx("th",{scope:"col",children:"Change Status"}),e.jsx("th",{scope:"col",children:"Action"})]})}),e.jsxs("tbody",{children:[((p=t==null?void 0:t.data)==null?void 0:p.length)!==0&&((x=t==null?void 0:t.data)==null?void 0:x.map((s,g)=>e.jsxs("tr",{children:[e.jsx("td",{className:"fw-medium",children:(t.current_page-1)*10+g+1}),e.jsx("td",{children:s.name}),e.jsx("td",{children:s.email}),e.jsx("td",{children:s.country}),e.jsx("td",{children:s.status==="Active"?e.jsx("span",{className:"badge bg-success-subtle text-success",children:"Active"}):e.jsx("span",{className:"badge bg-danger-subtle text-danger",children:"Disabled"})}),e.jsx("td",{children:e.jsxs("div",{className:"form-check form-switch",children:[e.jsx(o.Check.Input,{className:"form-check-input",type:"checkbox",checked:s.status==="Disabled",onChange:()=>I(s.id),role:"switch",id:"SwitchCheck2"}),e.jsx(o.Check.Label,{className:"form-check-label ms-2",htmlFor:"SwitchCheck2",children:"Yes/No"})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex-wrap gap-3 hstack",children:[e.jsx(f,{href:"#",className:"link-primary fs-15",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx(f,{href:"#",className:"link-success fs-15",children:e.jsx("i",{className:"ri-edit-2-line"})}),e.jsx("span",{onClick:()=>{d(s.id),c(!n)},className:"link-danger fs-15",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})})]},g))),((j=t==null?void 0:t.data)==null?void 0:j.length)===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,align:"center",className:"text-center fs-6 fw-semibold",children:"No data is available for this record in the database."})})]})]}),e.jsx(P,{modalType:"search",recordId:N,routeLink:"admin.customer.destroy",modalFlip:n,handleModalState:L})]})}),((u=t==null?void 0:t.data)==null?void 0:u.length)!==0&&e.jsx("div",{className:"mt-3 d-flex justify-content-sm-end",children:e.jsx(R,{pages:C})})]})]})})})]}),e.jsx(E,{position:"top-right",autoClose:1500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",transition:b})]})]})}_.layout=t=>e.jsx(U,{children:t});export{_ as default};
