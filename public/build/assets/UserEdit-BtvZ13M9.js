import{G as q,X as J,r as l,j as e,S as K}from"./app-CWG8IO2g.js";import{S as Y}from"./react-select.esm-Bh9Mr-qo.js";import{L as Z}from"./index-DlFJ7bMG.js";import{Q as _,F as U,B as ee}from"./ReactToastify-DPvZpB58.js";import{C as se}from"./CLBreadCrumb-D2HL7VO5.js";import{c as j,b as re}from"./country-D2C42wJD.js";import{S as k}from"./index-NKt71_pR.js";/* empty css             */import{C as ae}from"./Container--jlZg8Hy.js";import{R as o}from"./Row-V_FQxnkM.js";import{C as n}from"./Col-DCMVYQ7v.js";import{C as v}from"./Card-tM-bCJo_.js";import{F as i}from"./Form-ScOPmmIk.js";import{A as p}from"./Alert-Csvh4Yij.js";import{D as c}from"./Dropdown-DmSjolbV.js";import{I as F}from"./Image-CmmxrpiE.js";import{B as te}from"./Button-BYq_pOI0.js";import"./NavbarContext-D7Y69-4c.js";import"./Offcanvas-B1fdAb66.js";import"./ThemeProvider-DQTmiaPd.js";import"./CardHeaderContext-D7wbeIzV.js";import"./index-BID9k8xX.js";import"./RightSidebar-ySHiCkj3.js";import"./avatar-6-Bjnhzl3_.js";import"./reselect-CiXCCDx7.js";import"./coderlity-D_SEMzZo.js";import"./FormCheckInput-D0kmCXQY.js";const E=[{value:"Admin",label:"Admin"},{value:"Moderator",label:"Moderator"},{value:"Editor",label:"Editor"},{value:"User",label:"User"}],le={control:(r,u)=>({...r,borderColor:(u.isFocused,"#ced4da"),"&:hover":{borderColor:"#ced4da"},boxShadow:"none",fontSize:"13px"}),placeholder:r=>({...r,color:"#383E44"}),dropdownIndicator:r=>({...r,color:"#383E44",svg:{width:"18px",height:"18px"},fontWeight:300,"&:hover":{color:"#383E44"}}),clearIndicator:r=>({...r,svg:{width:"16px",height:"16px"},fontWeight:300,color:"#405189","&:hover":{color:"#000"}}),multiValue:(r,{data:u})=>({...r,backgroundColor:"#3762ea"}),multiValueLabel:(r,{data:u})=>({...r,backgroundColor:"#405189",color:"white"}),multiValueRemove:(r,{data:u})=>({...r,color:"white",backgroundColor:"#405189",":hover":{backgroundColor:"#405189",color:"white"}})};function oe({user:r}){let u=r.phone.split(",").length==2?r.phone.split(",")[1]:r.phone,T=E.find(s=>s.value==r.role),x=j.find(s=>s.countryName==r.country)||{},C=j.find(s=>s.countryName==r.country)||{id:18,flagImg:re,countryName:"Bangladesh",countryCode:"+880"},B=C.countryCode||"+880",A=(x==null?void 0:x.countryName)||"";const{data:g,setData:d,post:R,processing:w,errors:a,setError:h}=q({id:r.id,uname:r.name,email:r.email,phone:u,country:A,status:r.status,role:r.role,countryCode:B}),{props:D}=J(),m=D.flash||{},[S,M]=l.useState(C),[O,I]=l.useState(!1),[f,L]=l.useState(""),H=(j||[]).filter(s=>s.countryName.toLowerCase().includes(f.toLowerCase())||s.countryCode.includes(f)),[N,V]=l.useState(x),[b,y]=l.useState(""),z=j.filter(s=>s.countryName.toLowerCase().includes(b.toLowerCase())||s.countryCode.includes(b)),[W,P]=l.useState(T);function G(s=[]){if(s.length===0){P(""),d("role",""),h("role","");return}const t=s.length>=2?s[1]:s[0];P(t),d("role",(t==null?void 0:t.value)||""),h("role","")}const Q=s=>{ee.success(s,{position:"top-center",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:U})};l.useEffect(()=>{if(m!=null&&m.success){const s=setTimeout(()=>{Q(m==null?void 0:m.message)},150);return()=>{clearTimeout(s)}}},[m]);const X=s=>{M(s),d("countryCode",s.countryCode),L(""),I(!1)},$=s=>{s.preventDefault(),R(route("admin.user.update"),{preserveScroll:!0,onSuccess:()=>{y("")}})};return e.jsxs(l.Fragment,{children:[e.jsx(K,{title:"Starter | Velzon - React Admin & Dashboard Template"}),e.jsxs("div",{className:"page-content",children:[e.jsxs(ae,{fluid:!0,children:[e.jsx(se,{title:"Users",pageTitle:"User Page",pageUrl:"/auth/console/user",currentPage:"Update"}),e.jsx(o,{children:e.jsx(n,{xs:12,children:e.jsxs(v,{children:[e.jsx(v.Header,{className:"align-items-center d-flex",children:e.jsx("h4",{className:"mb-0 card-title flex-grow-1",children:"User Update"})}),e.jsx(v.Body,{children:e.jsx("div",{className:"live-preview",children:e.jsx("form",{onSubmit:$,children:e.jsxs(o,{children:[e.jsx(o,{children:e.jsx(n,{md:4,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i.Label,{htmlFor:"userNameinput",className:"form-label",children:"User Name"}),e.jsx(i.Control,{id:"userNameinput",type:"text",value:g.uname,className:"form-control",placeholder:"Enter your name",onChange:s=>{d("uname",s.target.value),h("uname","")}}),a.uname&&e.jsxs(p,{variant:"danger",className:"px-6 mt-3 customPadding alert-label-icon rounded-label mb-xl-0",role:"alert",children:[e.jsx("i",{className:"ri-error-warning-line label-icon"})," ",a.uname]})]})})}),e.jsx(o,{children:e.jsx(n,{md:4,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"emailidInput",className:"form-label",children:"Email Address"}),e.jsxs("div",{className:"form-icon right",children:[e.jsx("input",{id:"emailidInput",type:"email",value:g.email,disabled:!0,className:"form-control form-control-icon",placeholder:"example@gmail.com"}),e.jsx("i",{className:"ri-mail-unread-line"})]})]})})}),e.jsx(o,{children:e.jsx(n,{md:4,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i.Label,{htmlFor:"phoneNumberInput",children:"Phone Number"}),e.jsxs(c,{show:O,onToggle:s=>I(s),className:"input-group",children:[e.jsxs(c.Toggle,{as:"button",type:"button",className:"border btn btn-light arrow-none",children:[e.jsx("img",{src:S.flagImg,alt:"country flag",className:"options-flagimg",height:"20"}),e.jsx("span",{className:"countrylist-codeno text-muted ms-2",children:S.countryCode})]}),e.jsx("input",{type:"tel",id:"phoneNumberInput",value:g.phone,onChange:s=>{d("phone",s.target.value),h("phone","")},className:"form-control rounded-end flag-input",placeholder:"1745 145199"}),e.jsxs(c.Menu,{as:"div",className:"mb-0 list-unstyled w-100 dropdown-menu-list",onClick:s=>s.stopPropagation(),children:[e.jsx("div",{className:"p-2 px-3 pt-1 searchlist-input",children:e.jsx(i.Control,{type:"text",className:"form-control-sm search-countryList",placeholder:"Search country name or country code...",value:f,onChange:s=>L(s.target.value),onClick:s=>s.stopPropagation()})}),e.jsx(k,{style:{maxHeight:"220px"},className:"",children:(H||[]).map((s,t)=>e.jsxs(c.Item,{as:"div",onClick:()=>X(s),className:"dropdown-item d-flex",style:{cursor:"pointer"},children:[e.jsx("div",{className:"flex-shrink-0 me-2",children:e.jsx("img",{src:s.flagImg,alt:"country flag",className:"options-flagimg",height:"20"})}),e.jsx("div",{className:"flex-grow-1",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("div",{className:"country-name me-1",children:s.countryName}),e.jsx("span",{className:"countrylist-codeno text-muted",children:s.countryCode})]})})]},t))})]})]}),a.phone&&e.jsxs(p,{variant:"danger",className:"px-6 mt-3 customPadding alert-label-icon rounded-label mb-xl-0",role:"alert",children:[e.jsx("i",{className:"ri-error-warning-line label-icon"})," ",a.phone]})]})})}),e.jsx(o,{children:e.jsx(n,{md:4,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i.Label,{htmlFor:"countryinput",children:"Country"}),e.jsxs(c,{className:"w-100",children:[e.jsx(c.Toggle,{as:"button",type:"button",id:"countryinput",className:"cTogglePadding form-control d-flex justify-content-between align-items-center",children:e.jsxs("div",{className:"d-flex align-items-center",children:[N.flagImg&&e.jsx(F,{src:N.flagImg,alt:"country flag",height:20,width:30,className:"me-2"}),e.jsx("span",{children:N.countryName||"Select country"})]})}),e.jsxs(c.Menu,{as:"ul",className:"mb-0 list-unstyled w-100 dropdown-menu-list",onClick:s=>s.stopPropagation(),children:[e.jsx("div",{className:"px-3 py-2 searchlist-input",children:e.jsx(i.Control,{type:"text",placeholder:"Search country name or code...",className:"form-control-sm search-countryList",value:b,onChange:s=>y(s.target.value)})}),e.jsx(k,{style:{maxHeight:"220px"},children:z.map((s,t)=>e.jsxs(c.Item,{as:"li",onClick:()=>{V(s),y(""),d("country",s.countryName),h("country","")},className:"dropdown-item customPaddingLi d-flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(F,{src:s.flagImg,alt:"country flag",className:"options-flagimg",height:20,width:30})}),e.jsx("div",{className:"flex-grow-1",children:e.jsxs("div",{className:"d-flex",children:[e.jsx("div",{className:"country-name ",children:s.countryName}),e.jsx("span",{className:"countrylist-codeno text-muted",children:s.countryCode})]})})]},t))})]})]}),a.country&&e.jsxs(p,{variant:"danger",className:"px-6 mt-3 customPadding alert-label-icon rounded-label mb-xl-0",role:"alert",children:[e.jsx("i",{className:"ri-error-warning-line label-icon"})," ",a.country]})]})})}),e.jsx(o,{children:e.jsx(n,{md:4,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i.Label,{htmlFor:"statusInput",className:"form-label",children:"Status"}),e.jsxs("select",{id:"statusInput",className:"form-select customform-select",value:g.status,onChange:s=>{d("status",s.target.value),h("status","")},"data-choices":!0,"data-choices-sorting":"true",children:[e.jsx("option",{children:"Select Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Disabled",children:"Disabled"})]}),a.status&&e.jsxs(p,{variant:"danger",className:"px-6 mt-3 customPadding alert-label-icon rounded-label mb-xl-0",role:"alert",children:[e.jsx("i",{className:"ri-error-warning-line label-icon"})," ",a.status]})]})})}),e.jsx(o,{children:e.jsx(n,{md:4,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i.Label,{htmlFor:"roleInput",className:"form-label",children:"Role Type"}),e.jsx(Y,{id:"roleInput",value:W,isMulti:!0,isClearable:!0,onChange:s=>{G(s)},options:E,placeholder:"Choose Role",styles:le}),a.role&&e.jsxs(p,{variant:"danger",className:"px-6 mt-3 customPadding alert-label-icon rounded-label mb-xl-0",role:"alert",children:[e.jsx("i",{className:"ri-error-warning-line label-icon"})," ",a.role]})]})})}),e.jsx(n,{md:12,children:e.jsx("div",{className:"",children:e.jsx(te,{variant:"primary",type:"submit",disabled:w,className:"btn-load",children:e.jsx("span",{className:"d-flex align-items-center",children:w?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex-shrink-0 spinner-border",role:"status"}),e.jsx("span",{className:"flex-grow-1 ms-2",children:"Loading..."})]}):"Update User"})})})})]})})})})]})})})]}),e.jsx(_,{position:"top-right",autoClose:1500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",transition:U})]})]})}oe.layout=r=>e.jsx(Z,{children:r});export{oe as default};
