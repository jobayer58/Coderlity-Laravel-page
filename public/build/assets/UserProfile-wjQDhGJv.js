import{G as $,X as B,r as N,j as e,S as T,A as v}from"./app-CWG8IO2g.js";import{p as A}from"./profile-bg-XcrrQZYY.js";import{b as U}from"./avatar-6-Bjnhzl3_.js";import{Q as K,F as w,B as y}from"./ReactToastify-DPvZpB58.js";import{c as R}from"./country-D2C42wJD.js";import{L as H}from"./index-DlFJ7bMG.js";/* empty css             */import{p as C,T as p}from"./RightSidebar-ySHiCkj3.js";import{C as J}from"./Container--jlZg8Hy.js";import{F as s}from"./Form-ScOPmmIk.js";import{R as u}from"./Row-V_FQxnkM.js";import{C as o}from"./Col-DCMVYQ7v.js";import{C as c}from"./Card-tM-bCJo_.js";import{N as m}from"./Offcanvas-B1fdAb66.js";import"./index-BID9k8xX.js";import"./reselect-CiXCCDx7.js";import"./Dropdown-DmSjolbV.js";import"./ThemeProvider-DQTmiaPd.js";import"./NavbarContext-D7Y69-4c.js";import"./Button-BYq_pOI0.js";import"./index-NKt71_pR.js";import"./coderlity-D_SEMzZo.js";import"./FormCheckInput-D0kmCXQY.js";import"./CardHeaderContext-D7wbeIzV.js";const G=({user:a})=>{var f;const h=new Date(a.created_at),F=`${h.getDate()} ${h.toLocaleString("en-GB",{month:"short"})}, ${h.getFullYear()}`;let _=a.phone.split(",").length==2?`(${a.phone.split(",")[0]}) ${a.phone.split(",")[1]}`:a.phone,k=(f=R.find(r=>r.countryName==a.country))==null?void 0:f.countryCode;const{data:d,setData:t,post:L,put:I,processing:x,errors:l,setError:n}=$({uname:a.name,phone:_,countryCode:k,photo:"",current_password:"",password:"",password_confirmation:""}),{props:P}=B(),i=P.flash||{},D=r=>{r.preventDefault(),L(route("admin.user.profile"),{preserveScroll:!0,onSuccess:()=>{t("photo",""),n("photo","")}})},S=r=>{r.preventDefault(),I(route("admin.user.changePassword"),{preserveScroll:!0,onSuccess:()=>{t("current_password",""),n("current_password",""),t("password",""),n("password",""),t("password_confirmation",""),n("password_confirmation","")}})},O=r=>{v.post(route("admin.user.changeBackground"),{bgPhoto:r},{forceFormData:!0})},E=()=>{v.visit(route("admin.user.profile"))},j=(r,g)=>{const b={position:"top-center",autoClose:g==="success"?1500:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light",transition:w};g==="success"?y.success(r,b):y.warn(r,b)};return N.useEffect(()=>{if(!(i!=null&&i.message))return;const r=setTimeout(()=>{i.success?j(i.message,"success"):i.error&&j(i.message,"error")},350);return()=>clearTimeout(r)},[i]),e.jsxs(N.Fragment,{children:[e.jsx(T,{title:"Profile Settings | Velzon - React Admin & Dashboard Template"}),e.jsx("div",{className:"page-content",children:e.jsxs(J,{fluid:!0,children:[e.jsx("div",{className:"position-relative mx-n4 mt-n4",children:e.jsxs("div",{className:"profile-wid-bg profile-setting-img",children:[e.jsx("img",{src:a.bg_photo=="bg.png"?A:`${C}/admin/background/${a.bg_photo}`,className:"profile-wid-img",alt:a.bg_photo}),e.jsx("div",{className:"overlay-content",children:e.jsx("div",{className:"p-3 text-end",children:e.jsxs("div",{className:"p-0 ms-auto rounded-circle profile-photo-edit",children:[e.jsx(s.Control,{id:"profile-foreground-img-file-input",type:"file",onChange:r=>{O(r.target.files[0])},className:"profile-foreground-img-file-input"}),e.jsxs(s.Label,{htmlFor:"profile-foreground-img-file-input",className:"profile-photo-edit btn btn-light",children:[e.jsx("i",{className:"align-bottom ri-image-edit-line me-1"})," ","Change Cover"]})]})})})]})}),e.jsxs(u,{children:[e.jsxs(o,{xxl:3,children:[e.jsx(c,{className:"mt-n5",children:e.jsx(c.Body,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mx-auto mb-4 profile-user position-relative d-inline-block",children:[e.jsx("img",{src:a.photo=="avatar.png"?U:`${C}/admin/user/${a.photo}`,className:"rounded-circle avatar-xl img-thumbnail user-profile-image",alt:"user-profile"}),e.jsxs("div",{className:"p-0 avatar-xs rounded-circle profile-photo-edit",children:[e.jsx(s.Control,{id:"profile-img-file-input",type:"file",onChange:r=>{t("photo",r.target.files[0]),n("photo","")},className:"profile-img-file-input"}),e.jsx(s.Label,{htmlFor:"profile-img-file-input",className:"profile-photo-edit avatar-xs",children:e.jsx("span",{className:"avatar-title rounded-circle bg-light text-body",children:e.jsx("i",{className:"ri-camera-fill"})})})]})]}),e.jsx("h5",{className:"mb-1 fs-16",children:a.name}),e.jsx("p",{className:"mb-0 text-muted",children:`User Type / ${a.role}`})]})})}),e.jsx(c,{children:e.jsxs(c.Body,{children:[e.jsx("div",{className:"mb-5 d-flex align-items-center",children:e.jsx("div",{className:"flex-grow-1",children:e.jsx("h5",{className:"mb-0 card-title",children:"Complete Your Profile"})})}),e.jsx("div",{className:"progress animated-progress custom-progress progress-label",children:e.jsx("div",{className:"progress-bar bg-danger",role:"progressbar",style:{width:a.photo==="avatar.png"?"85%":"100%"},children:e.jsx("div",{className:"label",children:a.photo=="avatar.png"?"85%":"100%"})})})]})})]}),e.jsx(o,{xxl:9,children:e.jsx(c,{className:"mt-xxl-n5",children:e.jsxs(p.Container,{defaultActiveKey:"personal-details",children:[e.jsx(c.Header,{children:e.jsxs(m,{className:"rounded nav-tabs-custom card-header-tabs border-bottom-0",role:"tablist",children:[e.jsx(m.Item,{children:e.jsxs(m.Link,{eventKey:"personal-details",children:[e.jsx("i",{className:"fas fa-home"}),"Personal Details"]})}),e.jsx(m.Item,{children:e.jsxs(m.Link,{eventKey:"change-password",children:[e.jsx("i",{className:"far fa-user"}),"Change Password"]})})]})}),e.jsx(c.Body,{className:"p-4",children:e.jsxs(p.Content,{children:[e.jsx(p.Pane,{eventKey:"personal-details",children:e.jsx(s,{onSubmit:D,children:e.jsxs(u,{children:[e.jsx(o,{lg:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"firstnameInput",className:"form-label",children:"User Name"}),e.jsx(s.Control,{type:"text",className:"form-control",id:"firstnameInput",value:d.uname,onChange:r=>{t("uname",r.target.value),n("uname","")},placeholder:"Enter your firstname"}),l.uname&&e.jsx(s.Control.Feedback,{type:"invalid",className:"mt-2 d-block",children:l.uname})]})}),e.jsx(o,{lg:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"emailInput",className:"form-label",children:"Email Address"}),e.jsx(s.Control,{type:"email",className:"form-control",id:"emailInput",value:a.email,readOnly:!0,placeholder:"Enter your email"})]})}),e.jsx(o,{lg:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"phonenumberInput",className:"form-label",children:"Phone Number"}),e.jsx(s.Control,{type:"text",className:"form-control",id:"phonenumberInput",value:d.phone,onChange:r=>{t("phone",r.target.value),n("phone","")},placeholder:"Enter your phone number"}),l.phone&&e.jsx(s.Control.Feedback,{type:"invalid",className:"mt-2 d-block",children:l.phone})]})}),e.jsx(o,{lg:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"countryInput",className:"form-label",children:"Country"}),e.jsx(s.Control,{type:"text",className:"form-control",id:"countryInput",readOnly:!0,value:a.country,placeholder:"Country"})]})}),e.jsx(o,{lg:12,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"JoiningdatInput",className:"form-label",children:"Joining Date"}),e.jsx(s.Control,{type:"text",className:"form-control",id:"JoiningdatInput",value:F,readOnly:!0,placeholder:"Enter your email"})]})}),e.jsx(o,{lg:12,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"skillsInput",className:"form-label",children:"Status"}),e.jsx("select",{defaultValue:a.status,onMouseDown:r=>r.preventDefault(),className:"mb-3 form-select dropdownstop",children:e.jsx("option",{value:a.status,children:"Active"})})]})}),e.jsx(o,{lg:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"designationInput",className:"form-label",children:"Designation"}),e.jsx(s.Control,{type:"text",className:"form-control",id:"designationInput",readOnly:!0,placeholder:"Designation",value:`User Type / ${a.role}`})]})}),e.jsx(o,{lg:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"websiteInput1",className:"form-label",children:"Website"}),e.jsx(s.Control,{type:"text",readOnly:!0,className:"form-control",id:"websiteInput1",placeholder:"www.example.com",value:"www.coderlity.com"}),l.photo&&e.jsx(s.Control.Feedback,{type:"invalid",className:"mt-2 d-block",children:l.photo})]})}),e.jsx(o,{lg:12,children:e.jsxs("div",{className:"gap-2 hstack justify-content-end",children:[e.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary",children:"Update"}),e.jsx("button",{type:"button",onClick:E,className:"btn btn-soft-success",children:"Cancel"})]})})]})})}),e.jsx(p.Pane,{eventKey:"change-password",children:e.jsx(s,{onSubmit:S,children:e.jsxs(u,{className:"g-2",children:[e.jsx(o,{lg:4,children:e.jsxs("div",{children:[e.jsx(s.Label,{htmlFor:"current_password",className:"form-label",children:"Old Password*"}),e.jsx(s.Control,{id:"current_password",type:"password",name:"current_password",className:"form-control",value:d.current_password,onChange:r=>{t("current_password",r.target.value),n("current_password","")},placeholder:"Enter current password"}),l.current_password&&e.jsx(s.Control.Feedback,{type:"invalid",className:"mt-2 d-block",children:l.current_password})]})}),e.jsx(o,{lg:4,children:e.jsxs("div",{children:[e.jsx(s.Label,{htmlFor:"password",className:"form-label",children:"New Password*"}),e.jsx(s.Control,{id:"password",type:"password",name:"password",className:"form-control",value:d.password,onChange:r=>{t("password",r.target.value),n("password","")},placeholder:"Enter new password"}),l.password&&e.jsx(s.Control.Feedback,{type:"invalid",className:"mt-2 d-block",children:l.password})]})}),e.jsx(o,{lg:4,children:e.jsxs("div",{children:[e.jsx(s.Label,{htmlFor:"password_confirmation",className:"form-label",children:"Confirm Password*"}),e.jsx(s.Control,{id:"password_confirmation",type:"password",name:"password_confirmation",className:"form-control",value:d.password_confirmation,onChange:r=>{t("password_confirmation",r.target.value),n("password_confirmation","")},placeholder:"Confirm password"}),l.password_confirmation&&e.jsx(s.Control.Feedback,{type:"invalid",className:"mt-2 d-block",children:l.password_confirmation})]})}),e.jsx(o,{lg:12,children:e.jsx("div",{className:"text-end",children:e.jsx("button",{type:"submit",disabled:x,className:"btn btn-success",children:"Change Password"})})})]})})})]})})]})})})]}),e.jsx(K,{position:"top-right",autoClose:1500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",transition:w})]})})]})};G.layout=a=>e.jsx(H,{children:a});export{G as default};
