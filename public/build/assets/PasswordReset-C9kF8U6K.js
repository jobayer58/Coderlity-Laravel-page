import{r as o,X as F,G as P,j as s,S as k,A as E}from"./app-CWG8IO2g.js";import O from"./authCarousel-DR8ZE-jq.js";import{Q as A,F as u,B}from"./ReactToastify-DPvZpB58.js";import{C as w}from"./Container--jlZg8Hy.js";import{R as i}from"./Row-V_FQxnkM.js";import{C as l}from"./Col-DCMVYQ7v.js";import{C as R}from"./Card-tM-bCJo_.js";import{F as a}from"./Form-ScOPmmIk.js";import{B as n}from"./Button-BYq_pOI0.js";import"./carousel.min-c5PUB5v_.js";import"./index-BID9k8xX.js";import"./ThemeProvider-DQTmiaPd.js";import"./coderlity-D_SEMzZo.js";import"./CardHeaderContext-D7wbeIzV.js";import"./FormCheckInput-D0kmCXQY.js";function K({status:x,message:f,id:j}){const[d,g]=o.useState(!1),[c,v]=o.useState(!1),{props:N}=F(),r=N.flash||{},{data:p,setData:t,post:C,processing:b,errors:m,setError:h}=P({password:"",cpassword:"",id:j,hashUrl:""}),y=e=>{e.preventDefault(),C(route("admin.dashboard.password.store"),{preserveScroll:!0,onSuccess:()=>{t({password:"",cpassword:"",id:0,hashUrl:""})}})},S=e=>{B.success(e,{position:"top-center",autoClose:1500,onClose:()=>{E.visit(route("admin.dashboard.login"))},hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:u})};return o.useEffect(()=>{if(r!=null&&r.success){const e=setTimeout(()=>{S(r==null?void 0:r.message)},350);return()=>{clearTimeout(e)}}},[r]),o.useEffect(()=>{const e=window.location.pathname.split("/")[6];t("hashUrl",e)},[]),s.jsxs(o.Fragment,{children:[s.jsx(k,{title:"Create New Password | Coderlity Software Agency - Admin Dashboard"}),s.jsxs("div",{className:"py-5 auth-page-wrapper auth-bg-cover d-flex justify-content-center align-items-center min-vh-100",children:[s.jsx("div",{className:"bg-overlay"}),s.jsx("div",{className:"overflow-hidden auth-page-content pt-lg-5",children:s.jsx(w,{children:s.jsx(i,{children:s.jsx(l,{lg:12,children:s.jsxs(R,{className:"overflow-hidden",children:[s.jsxs(i,{className:"justify-content-center g-0",children:[s.jsx(O,{}),s.jsx(l,{lg:6,children:s.jsx("div",{className:"p-4 p-lg-5",children:x==="verified"?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-muted",children:"Your new password must be different from previous used password."}),s.jsx("div",{className:"p-2",children:s.jsxs("form",{onSubmit:y,children:[s.jsxs("div",{className:"mb-3",children:[s.jsx(a.Label,{className:"form-label",htmlFor:"password-input",children:"Password"}),s.jsxs("div",{className:"position-relative auth-pass-inputgroup",children:[s.jsx(a.Control,{type:d?"text":"password",className:"form-control pe-5 password-input",placeholder:"Enter password",id:"password-input",name:"password",value:p.password,autoComplete:"password",onChange:e=>{t("password",e.target.value),h("password","")}}),s.jsxs(a.Control.Feedback,{type:"invalid",className:"mt-2 d-block",children:[" ",m.password," "]}),s.jsx(n,{variant:"link",onClick:()=>g(!d),className:"top-0 position-absolute end-0 text-decoration-none text-muted password-addon",id:"password-addon",children:s.jsx("i",{className:"align-middle ri-eye-fill"})})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx(a.Label,{className:"form-label",htmlFor:"confirm-password-input",children:"Confirm Password"}),s.jsxs("div",{className:"mb-3 position-relative auth-pass-inputgroup",children:[s.jsx(a.Control,{type:c?"text":"password",className:"form-control pe-5 password-input",placeholder:"Confirm password",id:"confirm-password-input",name:"cpassword",value:p.cpassword,autoComplete:"cpassword",onChange:e=>{t("cpassword",e.target.value),h("cpassword","")}}),s.jsxs(a.Control.Feedback,{type:"invalid",className:"mt-2 d-block",children:[" ",m.cpassword," "]}),s.jsx(n,{variant:"link",onClick:()=>v(!c),className:"top-0 position-absolute end-0 text-decoration-none text-muted password-addon",children:s.jsx("i",{className:"align-middle ri-eye-fill"})})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(n,{variant:"success",className:"w-100",type:"submit",disabled:b,children:"Reset Password"})})]})})]}):s.jsx(s.Fragment,{children:s.jsx("h5",{className:"text-primary",children:f})})})})]}),s.jsx(A,{position:"top-center",autoClose:1500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",transition:u})]})})})})}),s.jsx("footer",{className:"footer",children:s.jsx(w,{children:s.jsx(i,{children:s.jsx(l,{lg:12,children:s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"mb-0",children:["Â© ",new Date().getFullYear()," Velzon. Crafted with"," ",s.jsx("i",{className:"mdi mdi-heart text-danger"})," by Coderlity"]})})})})})})]})]})}export{K as default};
